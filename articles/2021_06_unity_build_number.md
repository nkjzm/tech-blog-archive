---
title: "ã€Unityã€‘ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã®ãƒ“ãƒ«ãƒ‰ç•ªå·ã‚’å®Ÿè¡Œæ™‚ã«å–å¾—ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¬é–‹ã—ã¾ã—ãŸ"
emoji: "ğŸ®"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Android", "iOS", "Untiy"]
published: true
published_at: 2021-06-12 07:22
---
# ã¯ã˜ã‚ã«

ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã‚‹æ™‚ã€ç¾åœ¨å®Ÿæ©Ÿã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’èµ·å‹•ç”»é¢ã‚„è¨­å®šç”»é¢ã«è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å ´åˆã¯`Application.version`ã§å–å¾—ã§ãã‚‹ã®ã§ç°¡å˜ã«å®Ÿè£…ã§ãã‚‹ã®ã§ã™ãŒã€ãƒ“ãƒ«ãƒ‰ç•ªå·ã‚’å®Ÿæ©Ÿã§å–å¾—ã™ã‚‹æ–¹æ³•ã¯ç”¨æ„ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

ãã“ã§ã€å®Ÿæ©Ÿã§ã®ãƒ“ãƒ«ãƒ‰ç•ªå·å–å¾—ã‚’ç°¡å˜ã«å®Ÿç¾ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆã—ãŸã®ã§ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

https://github.com/nkjzm/UniBuildNumber

ã¡ãªã¿ã«Editorã®å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å–å¾—ã§ãã‚‹ã®ã§ã™ãŒã€ã‚‚ã¡ã‚ã‚“å®Ÿæ©Ÿã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚

```cs
// ãƒãƒ¼ã‚¸ãƒ§ãƒ³
PlayerSettings.bundleVersion;
// ãƒ“ãƒ«ãƒ‰ç•ªå·
PlayerSettings.iOS.buildNumber;
PlayerSettings.Android.bundleVersionCode;
```

## æƒ³å®šã—ã¦ã„ã‚‹ç”¨é€”

ã‚ˆãã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ã€CIã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ãŸã³ã«[ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°](https://semver.org/lang/ja/)ã®ãƒãƒƒãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ãƒ“ãƒ«ãƒ‰ç•ªå·ã«åæ˜ ã•ã›ã‚‹ã“ã¨ã‚ã‚Šã¾ã™(e.g. `v1.0.[ãƒ“ãƒ«ãƒ‰ç•ªå·]`) ã€‚ã“ã®æ–¹æ³•ã§ã™ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨è¨˜ã ã‘ã§ã©ã“ã¾ã§ã®å¤‰æ›´ãŒåæ˜ ã•ã‚Œã¦ã„ã‚‹ã‹åˆ¤æ–­ã§ãã‚‹ã®ã§ãƒ“ãƒ«ãƒ‰ç•ªå·ã¯å¿…è¦ãªã„ã®ã§ã™ãŒã€ã‚¢ãƒ—ãƒªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é »ç¹ã«å¤‰ãˆãŸããªã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚

ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨è¨˜ã‚’ç¶ºéº—ã«ä¿ã¡ãŸã„å ´åˆãªã©ãŒå¤šã„ã¨æ€ã†ã®ã§ã™ãŒã€ä»Šå›åƒ•ãŒå¿…è¦ã ã¨æ€ã£ãŸãã£ã‹ã‘ã¯Test Flightã®é–¢ä¿‚ã§ã™ã€‚Test Flightã§ã¯å¤–éƒ¨ãƒ†ã‚¹ã‚¿ãƒ¼ã«ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹éš›ã«ç°¡æ˜“çš„ãªå¯©æŸ»ï¼ˆ1æ—¥ç¨‹åº¦ï¼‰ãŒæŒŸã¾ã‚‹ã®ã§ã™ãŒã€åŒä¸€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯å¯©æŸ»ã•ã‚Œãªã„ä»•æ§˜ã‚’åˆ©ç”¨ã™ã‚‹ã¨å³æ™‚é…å¸ƒã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ã“ã®ä»•çµ„ã¿ã‚’ä½¿ã†ãŸã‚ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å¤‰ãˆãªããªã‹ã£ãŸã®ã§ã™ãŒã€å®Ÿæ©Ÿã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆ†ã‹ã‚‰ãªããªã£ã¦ã—ã¾ã†ãŸã‚ãƒ“ãƒ«ãƒ‰ç•ªå·ã‚’ä½µè¨˜ã—ãŸã„ã¨ã„ã†çŠ¶æ³ã«ãªã‚Šã¾ã—ãŸã€‚

https://qiita.com/mironal/items/8580a7fe1be2048c51d7


## å…è²¬äº‹é …

ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ¯ã«å‘¼ã³æ–¹ãŒé•ã„ã¾ã™ãŒã€ã“ã®è¨˜äº‹ã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªä½¿ã„åˆ†ã‘ã‚’ã—ã¦ã„ã¾ã™ã€‚

- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ (Version)
    - iOS: `CFBundleShortVersionString`
    - Android: `versionName`
- ãƒ“ãƒ«ãƒ‰ç•ªå· (Build Number)
    - iOS: `CFBundleVersion`
    - Android: `versionName`


# å°å…¥æ–¹æ³•ã¨ä½¿ã„æ–¹

READMEã«æ›¸ã„ã¦ã‚ã‚‹é€šã‚Šã§ã™ãŒã€ç°¡å˜ã«æ—¥æœ¬èªã§ã‚‚ç´¹ä»‹ã—ã¾ã™ã€‚

https://github.com/nkjzm/UniBuildNumber

## å°å…¥æ–¹æ³•

Unity 2019.3.4f1, Unity 2020.1a21ä»¥é™ã§ä½¿ãˆã‚‹Package Managerã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦é…å¸ƒã—ã¦ã„ã¾ã™ã€‚

1. Unityãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
1. Window -> Package Managerã‚’é–‹ã
1. å·¦ä¸Šã®"+"ãƒœã‚¿ãƒ³ã‹ã‚‰"Add package from git URL..."ã‚’ã‚¯ãƒªãƒƒã‚¯
1. `https://github.com/nkjzm/UniBuildNumber.git?path=Assets/UniBuildNumber`ã‚’å…¥åŠ›ã—ã€"Add"ã‚’ã‚¯ãƒªãƒƒã‚¯

## ä½¿ã„æ–¹

ä¸‹è¨˜ã®3ã¤ã®staticãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”¨æ„ã—ã¦ã‚ã‚Šã¾ã™ã€‚iOS/Androidã§å‹ãŒé•ã†ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

```cs
// Get build number in iOS
string buildNumber_ios = nkjzm.UniBuildNumber.GetIOSBuildNumber();

// Get build number in Android
int buildNumber_android = nkjzm.UniBuildNumber.GetAndroidVersionCode();

// Get build number in current platform (iOS or Android)
string buildNumber = nkjzm.UniBuildNumber.GetCurrentBuildNumber();
```

åƒ•ã®å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

```cs
private void Start()
{
    versionLabel.text = $"{Application.version} ({UniBuildNumber.GetCurrentBuildNumber()})";
}
```

# å‚è€ƒ

ä»Šå›ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆãƒ»å…¬é–‹ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

http://nobollel-tech.hatenablog.com/entry/unity-app-version

# æœ€å¾Œã«

æ™®æ®µã¯Twitterã§Unityã‚„xRæŠ€è¡“ã®æƒ…å ±ç™ºä¿¡ã‚’ã—ã¦ã„ã‚‹ã®ã§ã€è‰¯ã‹ã£ãŸã‚‰ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚

https://twitter.com/nkjzm/status/1403016738623524865

