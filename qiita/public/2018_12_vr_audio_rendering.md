---
title: 【VR学まとめ】4.2.3 聴覚レンダリングとモデル
published_at: '2018-12-24 01:31'
private: false
tags:
  - VR
updated_at: '2018-12-24T01:31:55+09:00'
id: 5ae01203c0f93baa9c13
organization_url_name: null
slide: false
---
# はじめに

この記事は[一人VR技術者認定試験 Advent Calendar 2018](https://qiita.com/advent-calendar/2018/vr-engineer)の18日目の記事です。

[バーチャルリアリティ学](https://www.amazon.co.jp/バーチャルリアリティ学-舘-暲/dp/4904490053)の4章「バーチャル世界の構成手法」の内容をまとめていきます。
書籍の方も是非ご購入いただいた上でご利用ください。

# 4 バーチャル世界の構成手法

## 4.2 レンダリング

### 4.2.3 聴覚レンダリングとモデル

#### (1) 3次元音空間の聴覚レンダリングモデル

- 両耳の2入力から3次元音空間を知覚
- 広帯域音を音空間全域に渡り高精度でレンダリングするのは現段階で不可能
- 聴覚ディスプレイで用いるモデル
    - 音場再現モデル
        - 音場全体を再現するモデル
        - 立体分割法
        - 音場直接合成法
    - 両耳間伝達関数モデル
        - 音源からそれぞれの耳まで音を計算
        - 音像定位伝達関数合成法
        - 両耳型聴覚ディスプレイ

#### (2) 音響物理現象のレンダリングモデル

- 音場直接合成法や音像定位伝達関数合成法では伝達関数を用いる
    - 室伝達関数 (RTF)
    - 頭部伝達関数(HRTF)
- 音響物理現象を伝達関数の形で表現する
    - 伝達遅延
    - 減衰
    - 反射
    - 回折

![JPEG image-73D0F7290EA7-1.jpeg](https://qiita-image-store.s3.amazonaws.com/0/55365/f8af355f-f78c-b8ce-4087-725e4ad9d807.jpeg)
引用元: [バーチャルリアリティ学](https://www.amazon.co.jp/%E3%83%90%E3%83%BC%E3%83%81%E3%83%A3%E3%83%AB%E3%83%AA%E3%82%A2%E3%83%AA%E3%83%86%E3%82%A3%E5%AD%A6-%E8%88%98-%E6%9A%B2/dp/4904490053)

- 距離減衰と遅延
    - 直接音に対し距離に応じた減衰と遅延を加える
    - 高周波数では空気吸収が結構あるので考慮する
- 反射波
    - 幾何音響理論
        - 音線法
            - 音源から放射された音線を追跡して時間範囲内の音線を計算
            - 反射音の次数によらず計算量が一定
            - ある時刻、ある点の音を求めることができないため不向き
        - 虚像法
            - 反射面の無効に虚像を定義して、反射の次数を決めて計算
            - 次数に対して指数関数的に計算量が増加する
        - 音の波動性は考慮されていない
            - 低周波数の精度が低い
            - 小さな反射面では拡散を考慮する工夫なども
- 後部残響音
    - 時間経過に伴い反射波の密度が上昇するため波面は方向性が弱まる
    - 丁寧な取扱は大きな手間がかかり、効果も少ない
- 回折
    - 人の気配などをレンダリングするために必要
    - 解析解を使い物体の端線毎に信号処理を行う
    - 低周波数で起こる低域通過型の現象
- ドプラ効果
    - 音源か聴取点が移動する場合に必要
    - 通常の信号処理は線形時不変を仮定しているため工夫が必要
    - 直接法
        - 移動速度に応じて周波集を直接シフトさせる
        - 汎用性に難あり
    - バーチャルな音伝搬路を設ける方法
        - 遅延線の形で設け相対速度に応じて読み込みポインタを移動させる、など

#### (3) 聴覚ディスプレイの将来像

- DSPチップなどハードウェア的に行うことも可能
- PCミドルウェアとしてパッケージ化すると低コストで利用可能に
- 境界要素法(BEM)は数値解析法に酔って波動性も考慮した総合的な形
- 音場全体の空気粒子のふるまいとして高速計算する検討も進んでいる

# まとめ

音には時間差があるため、視覚レンダリングと違い計算が複雑になる場合があると思いました。

[一人VR技術者認定試験 Advent Calendar 2018](https://qiita.com/advent-calendar/2018/vr-engineer)の19日目は[【VR学まとめ】4.2.4 力触覚レンダリングとモデル](https://qiita.com/nkjzm/items/89186ed21bd89310e71b)です。
